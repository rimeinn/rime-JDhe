switches_list:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, En ]
  - name: full_shape
    states: [ åŠ, å…¨ ]  # ç¬¦å·
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ] # ä¸­æ–‡æ ‡ç‚¹ï¼Œè‹±æ–‡æ ‡ç‚¹     
  - name: emoji
    states: [ ğŸ’€, ğŸ˜„ ]  
  - name: simplification
    states: [ ç®€, ç¹ ] 
  - name: charset_filter                 #è‡ªå®šä¹‰å­—é›†
    states: [ å…¨é›†, å¸¸ç”¨ ]
    reset: 1
  - name: prediction                 #è¾“å…¥å€™é€‰é¢„æµ‹
    states: [ å…³é—­é¢„æµ‹, å¼€å¯é¢„æµ‹ ]
  - name: pinyinhint                   # æ‹¼éŸ³æ»¤é•œ
    states: [ ğŸ”‡, ğŸ”Š ]          
  - name: single_char_only_for_full_code             # å››ç å•å­—å¼€å…³
    states: [ è¯ç»„, å•å­— ]
  - name: embeded_cands   # å­—è¯åµŒå…¥ç¼–è¾‘æ 
    states: [æ™®é€š, åµŒå…¥]      
  - name: block_words_enabled   # æ˜¯å¦å±è”½æŒ‡å®šçš„å­—è¯åˆ—è¡¨
    states: [ æ­£å¸¸, å±è”½ ]      
  - name: unicode_comment   # Unicode åŒºä½æç¤º
    states: [ Uå…³, Uå¼€ ]    


switches_engine_script:
  switches:
    __include: switches_list
  engine:
    processors:
      - lua_processor@*shortcut*processor            # å¿«æ·å¯åŠ¨ 
      - lua_processor@*select_character              # ä»¥è¯å®šå­—
      - lua_processor@*moran_processor               # Ctrl+l å¿«é€Ÿå–å‡º/æ”¾å›è¢«åæ‰çš„è¾…ç ï¼Œã€Œ;ã€æ¬¡é€‰è·³è¿‡emoji
      - lua_processor@*chinese_number*processor      # å¤§å†™é‡‘é¢æ•°å­—
      - predictor                                    # è¾“å…¥å€™é€‰é¢„æµ‹
      - ascii_composer     # å¤„ç†è‹±æ–‡æ¨¡å¼åŠä¸­è‹±æ–‡åˆ‡æ¢
      - recognizer         # ä¸ matcher 
      - key_binder         # åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å°†æŒ‰é”®ç»‘å®šåˆ°å…¶ä»–æŒ‰é”®ï¼Œå¦‚é‡å®šä¹‰é€—å·ã€å¥å·ä¸ºå€™é€‰ç¿»é¡µé”®
      - speller            # æŠŠå­—æ¯è¿½åŠ åˆ°ç¼–ç ä¸²
      - punctuator         # å¤„ç†ç¬¦å·æŒ‰é”®
      - selector           # é€‰å­—å’Œæ¢é¡µåŠŸèƒ½
      - navigator          # ç§»åŠ¨æ’å…¥ç‚¹
      - express_editor     # ç©ºæ ¼ç¡®è®¤å½“å‰è¾“å…¥ï¼Œå…¶ä»–å­—ç¬¦ç›´æ¥ä¸Šå±
    segmentors:
      - ascii_segmentor
      - matcher
      - affix_segmentor@radical_lookup              # éƒ¨ä»¶æ‹†å­—è‡ªå®šä¹‰ tag 
      - affix_segmentor@stroke_lookup               # äº”ç¬”ç”»è‡ªå®šä¹‰ tag 
      - affix_segmentor@wanxiang_py_lookup          # ä¸‡è±¡æ‹¼éŸ³è‡ªå®šä¹‰ tag
      - affix_segmentor@tiger_lookup                # è™ç è‡ªå®šä¹‰ tag
      - abc_segmentor                               # æ ‡è®°è¾“å…¥ç çš„ç±»å‹
      - punct_segmentor                             # å‰²ç•Œï¼Œä¸å‰åæ–¹çš„å…¶ä»–ç¼–ç åŒºåˆ†å¼€
      - fallback_segmentor
    translators:
      - punct_translator                        # è½¬æ¢æ ‡ç‚¹ç¬¦å·
      - reverse_lookup_translator               # é»˜è®¤åæŸ¥
      - script_translator                       # ç è¡¨è½¬æ¢
      - table_translator@radical_lookup         # éƒ¨ä»¶æ‹†å­—åæŸ¥
      - table_translator@stroke_lookup          # äº”ç¬”ç”»åæŸ¥ 
      - table_translator@wanxiang_py_lookup     # ä¸‡è±¡æ‹¼éŸ³åæŸ¥
      - table_translator@tiger_lookup           # è™ç åæŸ¥
      - table_translator@quick_symbol_phrase    # å¿«é€Ÿç¬¦å·çŸ­è¯­è¯åº“       
      - history_translator@history              # é‡å¤ä¸Šå±
      - lua_translator@*calculator              # /= è§¦å‘ç®€æ˜“è®¡ç®—å™¨
      - lua_translator@*chinese_number*translator  # /cn è§¦å‘å¤§å†™é‡‘é¢æ•°å­— 
      - lua_translator@*date_time               # æ—¥æœŸè¾“å…¥ date, week, time, /wd, /wk, /wt è§¦å‘                           
      - lua_translator@*chinese_lunar           # ä¸­å›½å†œå† /nl è§¦å‘æ˜¾ç¤º   
      - lua_translator@*shortcut*translator     #  /jk, /kj è§¦å‘å¿«æ·å‘½ä»¤ 
      - lua_translator@*unicode                 # Unicode è¾“å…¥          
      - predict_translator                      # è¾“å…¥é¢„æµ‹  
      - lua_translator@*force_gc                # æš´åŠ›GCï¼Œå°è¯•è§£å†³å°ç‹¼æ¯«é•¿æœŸä½¿ç”¨çš„å¡é¡¿
    filters:      
      - lua_filter@*charset_filter@charset_filter # è‡ªå®šä¹‰å­—é›†è¿‡æ»¤luaï¼›æ”¾åœ¨æœ€ä¸Šé¢å®Œç¾è§£å†³ç®€ç¹æ»¤é•œå‡ºé”™çš„é—®é¢˜
      - lua_filter@*single_char_only_for_full_code@single_char_only # å››ç å•å­—è¿‡æ»¤ lua     
      - reverse_lookup_filter@reverse_lookup_filter  # åæŸ¥çš„filter      
      - simplifier@emoji                              # Emoji     
      - lua_filter@*reduce_emoji                      # é™ä½emojiåœ¨å€™é€‰çš„ä½ç½®     
      - simplifier@pinyinhint                         # æ‹¼éŸ³æ»¤é•œ   
      - simplifier@simplification                     # ç®€ç¹åˆ‡æ¢            
      - lua_filter@*autocap_filter                    # è‹±æ–‡è‡ªåŠ¨å¤§å†™            
      - lua_filter@*pin_cand_filter                   # ç½®é¡¶å€™é€‰é¡¹ï¼ˆé¡ºåºè¦æ±‚ï¼šç½®é¡¶å€™é€‰é¡¹ > Emoji > ç®€ç¹åˆ‡æ¢ï¼‰            
      - lua_filter@*is_in_user_dict                   # æ ¹æ®æ˜¯å¦åœ¨ç”¨æˆ·è¯å…¸ï¼Œåœ¨ comment ä¸ŠåŠ ä¸Šä¸€ä¸ªæ ‡è®°
      - lua_filter@*en_spacer                         # è‹±æ–‡è¯æ¡ä¸Šå±è‡ªåŠ¨ç©ºæ ¼
      - lua_filter@*multiline_filter                  # åœ¨è¯å…¸é‡Œé¢å€™é€‰æ”¯æŒ\r, \r\n, \n, <br>åˆ†å‰²åˆ†è¡Œã€‚&nbsp è¡¨ç¤ºç©ºæ ¼
      - lua_filter@*embeded_cands_v2@embeded_cands    # å­—è¯å€™é€‰åµŒå…¥ç¼–è¾‘æ 
      - lua_filter@*block_words                       # å±è”½æŒ‡å®šçš„å­—è¯åˆ—è¡¨ï¼Œå¹¶é€šè¿‡å¼€å…³æ§åˆ¶æ˜¯å¦å¯ç”¨
      - lua_filter@*moran_charset_comment_filter      # Unicode å€ä½æç¤º
      - uniquifier    

switches_engine_table:
  switches:
    __include: switches_list
  engine:
    processors:
      - lua_processor@*shortcut*processor            # å¿«æ·å¯åŠ¨ 
      - lua_processor@*select_character              # ä»¥è¯å®šå­—
      - lua_processor@*moran_processor               # Ctrl+l å¿«é€Ÿå–å‡º/æ”¾å›è¢«åæ‰çš„è¾…ç ï¼Œã€Œ;ã€æ¬¡é€‰è·³è¿‡emoji
      - lua_processor@*chinese_number*processor      # å¤§å†™é‡‘é¢æ•°å­—
      - predictor                                    # è¾“å…¥å€™é€‰é¢„æµ‹
      - ascii_composer     # å¤„ç†è‹±æ–‡æ¨¡å¼åŠä¸­è‹±æ–‡åˆ‡æ¢
      - recognizer         # ä¸ matcher 
      - key_binder         # åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å°†æŒ‰é”®ç»‘å®šåˆ°å…¶ä»–æŒ‰é”®ï¼Œå¦‚é‡å®šä¹‰é€—å·ã€å¥å·ä¸ºå€™é€‰ç¿»é¡µé”®
      - speller            # æŠŠå­—æ¯è¿½åŠ åˆ°ç¼–ç ä¸²
      - punctuator         # å¤„ç†ç¬¦å·æŒ‰é”®
      - selector           # é€‰å­—å’Œæ¢é¡µåŠŸèƒ½
      - navigator          # ç§»åŠ¨æ’å…¥ç‚¹
      - express_editor     # ç©ºæ ¼ç¡®è®¤å½“å‰è¾“å…¥ï¼Œå…¶ä»–å­—ç¬¦ç›´æ¥ä¸Šå±
    segmentors:
      - ascii_segmentor
      - matcher
      - affix_segmentor@radical_lookup              # éƒ¨ä»¶æ‹†å­—è‡ªå®šä¹‰ tag 
      - affix_segmentor@stroke_lookup               # äº”ç¬”ç”»è‡ªå®šä¹‰ tag 
      - affix_segmentor@wanxiang_py_lookup          # ä¸‡è±¡æ‹¼éŸ³è‡ªå®šä¹‰ tag
      - affix_segmentor@tiger_lookup                # è™ç è‡ªå®šä¹‰ tag
      - abc_segmentor                               # æ ‡è®°è¾“å…¥ç çš„ç±»å‹
      - punct_segmentor                             # å‰²ç•Œï¼Œä¸å‰åæ–¹çš„å…¶ä»–ç¼–ç åŒºåˆ†å¼€
      - fallback_segmentor
    translators:
      - punct_translator                        # è½¬æ¢æ ‡ç‚¹ç¬¦å·
      - reverse_lookup_translator               # é»˜è®¤åæŸ¥
      - table_translator                       # ç è¡¨è½¬æ¢
      - table_translator@radical_lookup         # éƒ¨ä»¶æ‹†å­—åæŸ¥
      - table_translator@stroke_lookup          # äº”ç¬”ç”»åæŸ¥ 
      - table_translator@wanxiang_py_lookup     # ä¸‡è±¡æ‹¼éŸ³åæŸ¥
      - table_translator@tiger_lookup           # è™ç åæŸ¥
      - table_translator@quick_symbol_phrase    # å¿«é€Ÿç¬¦å·çŸ­è¯­è¯åº“       
      - history_translator@history              # é‡å¤ä¸Šå±
      - lua_translator@*calculator              # /= è§¦å‘ç®€æ˜“è®¡ç®—å™¨
      - lua_translator@*chinese_number*translator  # /cn è§¦å‘å¤§å†™é‡‘é¢æ•°å­— 
      - lua_translator@*date_time               # æ—¥æœŸè¾“å…¥ date, week, time, /wd, /wk, /wt è§¦å‘                           
      - lua_translator@*chinese_lunar           # ä¸­å›½å†œå† /nl è§¦å‘æ˜¾ç¤º   
      - lua_translator@*shortcut*translator     #  /jk, /kj è§¦å‘å¿«æ·å‘½ä»¤ 
      - lua_translator@*unicode                 # Unicode è¾“å…¥          
      - predict_translator                      # è¾“å…¥é¢„æµ‹  
      - lua_translator@*force_gc                # æš´åŠ›GCï¼Œå°è¯•è§£å†³å°ç‹¼æ¯«é•¿æœŸä½¿ç”¨çš„å¡é¡¿
    filters:      
      - lua_filter@*charset_filter@charset_filter # è‡ªå®šä¹‰å­—é›†è¿‡æ»¤luaï¼›æ”¾åœ¨æœ€ä¸Šé¢å®Œç¾è§£å†³ç®€ç¹æ»¤é•œå‡ºé”™çš„é—®é¢˜
      - lua_filter@*single_char_only_for_full_code@single_char_only # å››ç å•å­—è¿‡æ»¤ lua     
      - reverse_lookup_filter@reverse_lookup_filter  # åæŸ¥çš„filter      
      - simplifier@emoji                              # Emoji     
      - lua_filter@*reduce_emoji                      # é™ä½emojiåœ¨å€™é€‰çš„ä½ç½®     
      - simplifier@pinyinhint                         # æ‹¼éŸ³æ»¤é•œ   
      - simplifier@simplification                     # ç®€ç¹åˆ‡æ¢            
      - lua_filter@*autocap_filter                    # è‹±æ–‡è‡ªåŠ¨å¤§å†™            
      - lua_filter@*pin_cand_filter                   # ç½®é¡¶å€™é€‰é¡¹ï¼ˆé¡ºåºè¦æ±‚ï¼šç½®é¡¶å€™é€‰é¡¹ > Emoji > ç®€ç¹åˆ‡æ¢ï¼‰            
      - lua_filter@*is_in_user_dict                   # æ ¹æ®æ˜¯å¦åœ¨ç”¨æˆ·è¯å…¸ï¼Œåœ¨ comment ä¸ŠåŠ ä¸Šä¸€ä¸ªæ ‡è®°
      - lua_filter@*en_spacer                         # è‹±æ–‡è¯æ¡ä¸Šå±è‡ªåŠ¨ç©ºæ ¼
      - lua_filter@*multiline_filter                  # åœ¨è¯å…¸é‡Œé¢å€™é€‰æ”¯æŒ\r, \r\n, \n, <br>åˆ†å‰²åˆ†è¡Œã€‚&nbsp è¡¨ç¤ºç©ºæ ¼
      - lua_filter@*embeded_cands_v2@embeded_cands    # å­—è¯å€™é€‰åµŒå…¥ç¼–è¾‘æ 
      - lua_filter@*block_words                       # å±è”½æŒ‡å®šçš„å­—è¯åˆ—è¡¨ï¼Œå¹¶é€šè¿‡å¼€å…³æ§åˆ¶æ˜¯å¦å¯ç”¨
      - lua_filter@*moran_charset_comment_filter      # Unicode å€ä½æç¤º
      - uniquifier    


opencc_config: 
# Emoji
  emoji:
    option_name: emoji
    opencc_config: emoji.json
    tips: all               # è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚
    tags: [ abc, encode, punct ]           # è®¾ç½®å…¶ä½œç”¨èŒƒå›´
    inherit_comment: false  # åœ¨ corrector.lua åŠåæŸ¥ä¸­ï¼Œemoji è¿”å›ç©ºæ³¨é‡Š

# ç®€ç¹åˆ‡æ¢  
  simplification:
    option_name: simplification  
    opencc_config: s2tw.json      # s2t.json | s2hk.json | s2tw.json | s2twp.json
    option_name: simplification
    tips: all                     #ç®€ç¹å¯¹ç…§   è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚    

# æ‹¼éŸ³æ»¤é•œ
  pinyinhint:
    option_name: pinyinhint
    opencc_config: moran_pinyinhint.json
    show_in_comment: true # æ˜¯å¦ä»…å°†è½¬æ¢ç»“æœæ˜¾ç¤ºåœ¨å¤‡æ³¨ä¸­
    tags: [ abc, encode, punct, reverse_lookup ]           # è®¾ç½®å…¶ä½œç”¨èŒƒå›´
    tips: char #å¦‚åªæƒ³ç»™å•å­—åŠ æ»¤é•œï¼Œå¯æ”¹ä¸º charï¼Œå…¨éƒ¨ä¸º all
    comment_format:
#      - 'xform/&nbsp;/ /'
#      - "xform/^/ /"



reverse_config: 
  # éƒ¨ä»¶æ‹†å­—åæŸ¥
  radical_lookup:
    tag: radical_lookup
    dictionary: radical_pinyin
    enable_user_dict: false
    enable_completion: true              #  ç¼–ç æç¤ºå¼€å…³ï¼ˆæå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ï¼‰ 
    prefix: "oiz"  # åæŸ¥å‰ç¼€
    tips: "ã€”æ‹†å­—ã€•"
    comment_format:
      - erase/^.*$//


  # äº”ç¬”ç”»åæŸ¥
  stroke_lookup:
    tag: stroke_lookup
    dictionary: stroke
    enable_encoder:  false                  # æ˜¯å¦å¯ç”¨ è‡ªåŠ¨é€ è¯  
    enable_sentence:  false                 # æ˜¯å¦å¯ç”¨é€ å¥æ¨¡å¼
    enable_user_dict: false
    enable_completion: true              #  ç¼–ç æç¤ºå¼€å…³ï¼ˆæå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ï¼‰    
    prefix: "obh"  # åæŸ¥å‰ç¼€
    tips: "ã€”æ¨ªhç«–sæ’‡pæºnæŠ˜zã€•"
    preedit_format:
      - xlit/hspnz/â¼€â¼â¼ƒâ¼‚â¼„/  # åº·ç†™éƒ¨é¦–ï¼ˆæ©«è±æ’‡é»æŠ˜ï¼‰



  # ä¸‡è±¡æ‹¼éŸ³åæŸ¥
  wanxiang_py_lookup:
    tag: wanxiang_py_lookup
    dictionary: wanxiang_pinyin_dz
    enable_encoder:  false                  # æ˜¯å¦å¯ç”¨ è‡ªåŠ¨é€ è¯  
    enable_sentence:  false                 # æ˜¯å¦å¯ç”¨é€ å¥æ¨¡å¼
    enable_user_dict: false
    enable_completion: false              #  ç¼–ç æç¤ºå¼€å…³ï¼ˆæå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ï¼‰
#    prefix: "`"
    tips: "ã€”åæŸ¥ã€•"
    comment_format:
      - "xform/^/ /"
      - xform/([nl])v/$1Ã¼/


  # è™ç åæŸ¥
  tiger_lookup:
    tag: tiger_lookup
    dictionary: tiger
    enable_encoder:  false                  # æ˜¯å¦å¯ç”¨ è‡ªåŠ¨é€ è¯  
    enable_sentence:  false                 # æ˜¯å¦å¯ç”¨é€ å¥æ¨¡å¼
    enable_user_dict: false
    enable_completion: true              #  ç¼–ç æç¤ºå¼€å…³ï¼ˆæå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ï¼‰
    prefix: "ohm"
    tips: "ã€”è™ç ã€•"
    comment_format:
      - "xform/^/ /"

  reverse_lookup_filter: #è¯¥åæŸ¥è¿‡æ»¤å™¨å
    tags: [radical_lookup,stroke_lookup,wanxiang_py_lookup,tiger_lookup] #æŒ‚åœ¨è¿™ä¸ªtagæ‰€å¯¹åº”çš„ç¿»è¯‘å™¨ä¸Š
    overwrite_comment: true
    dictionary: luna_pinyin.extended #åæŸ¥æ‰€å¾—è¯åº“
    comment_format:
      - xform/(\w\w);(\w\w);/$1[$2]/
      - xform/(\w\w);(\w\w),(\w\w);/$1[$2][$3]/

recognizer_config: 
  recognizer:
    import_preset: default
    patterns:
#      punct: "^(/([0-9]0?|[A-Za-z]+))|(;[A-Za-z]+)$" 
      punct: '^/([0-9]0?|[A-Za-z]+)$' # å“åº” symbols
#      reverse_lookup: "^`[a-z]*'?$" # å“åº”åæŸ¥
      uppercase: "" #ä¸­æ–‡çŠ¶æ€å¤§å†™é”å®šç›´æ¥ä¸Šå± 
      email: "^[A-Za-z][-_.0-9A-Za-z]*@.*$"  # email @ ä¹‹åä¸ä¸Šå±                    
      url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"  # URL
      calculator: "^(/=|cC)(.*)$"               # ç®€æ˜“è®¡ç®—å™¨
      chinese_number: "^(/cn|cN)[0-9.]+$"       # ä¸­æ–‡å¤§å†™æ•°å­—(é‡‘é¢)
      week: "^(/wk|week|oxq|owk)$"  # å“åº”æ˜ŸæœŸè¾“å…¥
      time: "^(/wt|time|osj|owt)$"  # å“åº”æ—¶é—´è¾“å…¥
      date: "^(/wd|date|orq|owd)$"  # å“åº”æ—¥æœŸè¾“å…¥
      timestamp: "^/uts$"           # æ—¶é—´æˆ³
      chinese_lunar: "^(/nl|nL)[0-9]*$"  # ä¸­å›½å†œå†(å¯åæŸ¥)
      shortcuts_app: "^/jk[a-z]*$"              # å¿«æ·æŒ‡ä»¤(å¯åŠ¨åº”ç”¨)
      shortcuts_cmd: "^/kj[a-z]*$"              # å¿«æ·æŒ‡ä»¤(æ‰§è¡Œå‘½ä»¤)
      unicode: "^U[a-f0-9]+"  # è„šæœ¬å°†è‡ªåŠ¨è·å–ç¬¬ 2 ä¸ªå­—ç¬¦ U ä½œä¸ºè§¦å‘å‰ç¼€ï¼Œå“åº” lua_translator@unicodeï¼Œè¾“å‡º Unicode å­—ç¬¦
      radical_lookup: "^oiz[A-Za-z]*$"   # å“åº”éƒ¨ä»¶æ‹†å­—çš„åæŸ¥ï¼Œä¸ radical_lookup/prefix åŒ¹é…
      stroke_lookup: "^obh[A-Za-z]*$"    # å“åº”äº”ç¬”ç”»çš„åæŸ¥ï¼Œä¸ stroke_lookup/prefix åŒ¹é…
      wanxiang_py_lookup: "(^(`[a-z`]+))|(^([a-z]{2}(`[a-z`]?|[a-z`]`))|^([a-z]{4}`))"  # å“åº” ä¸´æ—¶ã€Œ`ã€ç»Ÿé…åæŸ¥
      tiger_lookup: "^ohm[a-z]*'?$"  # å“åº”è™ç çš„åæŸ¥ï¼Œä¸ tiger_lookup/prefix åŒ¹é…


key_config: 
  options_toggle:
    __append:
     # emojiå¼€å…³
      - { when: always, accept: "Shift+space", toggle: emoji, }
     # åˆ‡æ¢ä¸­è‹±æ ‡ç‚¹
      - { when: always, accept: "Control+period", toggle: ascii_punct, }    
     # åˆ‡æ¢ç®€ç¹
      - { when: always, accept: "Control+Shift+4", toggle: simplification, } 
     # åˆ‡æ¢ç®€ç¹ï¼ˆMacï¼‰
      - { when: always, accept: "Control+Shift+dollar", toggle: simplification, } 
     # åˆ‡æ¢å…¨åŠè§’
      - { when: always, accept: "Control+Shift+5", toggle: full_shape, }     
     # åˆ‡æ¢å…¨åŠè§’ï¼ˆMacï¼‰
      - { when: always, accept: "Control+Shift+percent", toggle: full_shape, }     
     # æ˜¾ç¤ºæ‹¼éŸ³æ»¤é•œ
      - { when: has_menu, accept: "Control+comma", toggle: pinyinhint }
     # è‡ªå®šä¹‰å­—é›†å¼€å…³
      - { when: always, accept: "Control+Shift+Q", toggle: charset_filter }  
     # æ‹¼éŸ³æ»¤é•œå¼€å…³ 
      - { when: always, accept: "Control+Shift+P", toggle: pinyin } 
     # å››ç å•å­—å¼€å…³ 
      - { when: always, accept: "Control+Shift+D", toggle: single_char_only_for_full_code } 
     # å­—è¯å€™é€‰åµŒå…¥ç¼–è¾‘æ  
      - { when: always, accept: "Control+Shift+E", toggle: embeded_cands } 

  keys:
    __append:
     # æ‰“å­—æ—¶ï¼Œ; é€‰ä¸­ç¬¬2ä¸ªå€™é€‰å­—å‘é€
      - { accept: semicolon, send: 2, when: has_menu}  
     # æ‰“å­—æ—¶ï¼Œ' é€‰ä¸­ç¬¬3ä¸ªå€™é€‰å­—å‘é€ (éŸ³ç æ–¹æ¡ˆéœ€è¦æ­¤é”® åˆ†è¯ï¼Œå½¢ç å•ç‹¬å¯ç”¨)
  #    - { accept: apostrophe, send: 3, when: has_menu} 
     # æ‰“å­—æ—¶ï¼Œ[ é€‰ä¸­ç¬¬4ä¸ªå€™é€‰å­—å‘é€
      - { accept: bracketleft, send: 4, when: has_menu} 
     # æ‰“å­—æ—¶ï¼Œ] é€‰ä¸­ç¬¬5ä¸ªå€™é€‰å­—å‘é€
      - { accept: bracketright, send: 5, when: has_menu}  
     # æ‰“å­—æ—¶ï¼Œ\ é€‰ä¸­ç¬¬6ä¸ªå€™é€‰å­—å‘é€
      - { accept: backslash, send: 6, when: has_menu}  
     # æ‰“å­—æ—¶ï¼ŒCaps_Lock é€‰ä¸­ç¬¬4ä¸ªå€™é€‰å­—å‘é€
      - { accept: Caps_Lock, send: 4, when: has_menu} 
     # æ‰“å­—æ—¶ï¼ŒCaps_Lock é€‰ä¸­ç¬¬4ä¸ªå€™é€‰å­—å‘é€
      - { accept: Release+Caps_Lock, send: Release+4, when: has_menu} 

     # å‡å·å‘å‰ç¿»é¡µ
      - { accept: minus, send: Page_Up, when: paging} 
     # ç­‰äºå·å‘åç¿»é¡µ
      - { accept: equal, send: Page_Down, when: has_menu} 

     # åˆ é™¤ç”¨æˆ·è‡ªé€ è¯
      - { when: composing, accept: "Control+k", send: Shift+Delete } 
     # æŒ‰è¯æ¸…ç  
      - { when: composing, accept: "Control+w", send: Control+BackSpace } 

      # Option/Alt + â†/â†’ åˆ‡æ¢å…‰æ ‡è‡³ä¸‹/ä¸Šä¸€ä¸ªæ‹¼éŸ³
      - { when: composing, accept: Alt+Left, send: Shift+Left }
      - { when: composing, accept: Alt+Right, send: Shift+Right }

      # å°†å°é”®ç›˜ 0~9 . æ˜ å°„åˆ°ä¸»é”®ç›˜ï¼Œæ•°å­—é‡‘é¢å¤§å†™çš„ Lua å¦‚ R1234.5678 å¯ä½¿ç”¨å°é”®ç›˜è¾“å…¥
      - {accept: KP_0, send: 0, when: composing}
      - {accept: KP_1, send: 1, when: composing}
      - {accept: KP_2, send: 2, when: composing}
      - {accept: KP_3, send: 3, when: composing}
      - {accept: KP_4, send: 4, when: composing}
      - {accept: KP_5, send: 5, when: composing}
      - {accept: KP_6, send: 6, when: composing}
      - {accept: KP_7, send: 7, when: composing}
      - {accept: KP_8, send: 8, when: composing}
      - {accept: KP_9, send: 9, when: composing}
      - {accept: KP_Decimal, send: period, when: composing}    
      - {accept: KP_Enter, send: Return, when: composing}  

  # ä½¿ç”¨ tab ç¿»é¡µ
  tab_Page:
    __append:
     # Tab å‘åç¿»é¡µ
      - { accept: Tab, send: Page_Down, when: has_menu} 
     # Shift+Tab å‘å‰ç¿»é¡µ
      - { accept: Shift+Tab, send: Page_Up, when: paging} 

  # ä½¿ç”¨ tab åœ¨ä¸åŒéŸ³èŠ‚é—´è·³è½¬
  tab_jump:
    __append:
     - { accept: Tab, send: Control+Right, when: has_menu }
     - { accept: Tab, send: Control+Right, when: composing }

  # ä½¿ç”¨ tab åˆ‡æ¢å€™é€‰
  tab_switch:
    __append:
     # æ‰“å­—æ—¶ï¼ŒTab é€‰ä¸­ä¸‹ä¸€ä¸ªå€™é€‰
     - { accept: Tab, send: Down, when: has_menu} 
     # æ‰“å­—æ—¶ï¼ŒShift+Tab é€‰ä¸­ä¸Šä¸€ä¸ªå€™é€‰
     - { accept: Shift+Tab, send: Up, when: has_menu} 


  # ä½¿ç”¨å¤§å†™å­—æ¯è¿½åŠ è¾“å…¥åˆ°ä¸Šä¸€ä¸ªéŸ³èŠ‚æœ«å°¾
  capital_for_last_syllable:
    __append:
      - { when: has_menu, accept: Shift+A, send_sequence: "{Control+Left}a{Control+Right}" }
      - { when: has_menu, accept: Shift+B, send_sequence: "{Control+Left}b{Control+Right}" }
      - { when: has_menu, accept: Shift+C, send_sequence: "{Control+Left}c{Control+Right}" }
      - { when: has_menu, accept: Shift+D, send_sequence: "{Control+Left}d{Control+Right}" }
      - { when: has_menu, accept: Shift+E, send_sequence: "{Control+Left}e{Control+Right}" }
      - { when: has_menu, accept: Shift+F, send_sequence: "{Control+Left}f{Control+Right}" }
      - { when: has_menu, accept: Shift+G, send_sequence: "{Control+Left}g{Control+Right}" }
      - { when: has_menu, accept: Shift+H, send_sequence: "{Control+Left}h{Control+Right}" }
      - { when: has_menu, accept: Shift+I, send_sequence: "{Control+Left}i{Control+Right}" }
      - { when: has_menu, accept: Shift+J, send_sequence: "{Control+Left}j{Control+Right}" }
      - { when: has_menu, accept: Shift+K, send_sequence: "{Control+Left}k{Control+Right}" }
      - { when: has_menu, accept: Shift+L, send_sequence: "{Control+Left}l{Control+Right}" }
      - { when: has_menu, accept: Shift+M, send_sequence: "{Control+Left}m{Control+Right}" }
      - { when: has_menu, accept: Shift+N, send_sequence: "{Control+Left}n{Control+Right}" }
      - { when: has_menu, accept: Shift+O, send_sequence: "{Control+Left}o{Control+Right}" }
      - { when: has_menu, accept: Shift+P, send_sequence: "{Control+Left}p{Control+Right}" }
      - { when: has_menu, accept: Shift+Q, send_sequence: "{Control+Left}q{Control+Right}" }
      - { when: has_menu, accept: Shift+R, send_sequence: "{Control+Left}r{Control+Right}" }
      - { when: has_menu, accept: Shift+S, send_sequence: "{Control+Left}s{Control+Right}" }
      - { when: has_menu, accept: Shift+T, send_sequence: "{Control+Left}t{Control+Right}" }
      - { when: has_menu, accept: Shift+U, send_sequence: "{Control+Left}u{Control+Right}" }
      - { when: has_menu, accept: Shift+V, send_sequence: "{Control+Left}v{Control+Right}" }
      - { when: has_menu, accept: Shift+W, send_sequence: "{Control+Left}w{Control+Right}" }
      - { when: has_menu, accept: Shift+X, send_sequence: "{Control+Left}x{Control+Right}" }
      - { when: has_menu, accept: Shift+Y, send_sequence: "{Control+Left}y{Control+Right}" }
      - { when: has_menu, accept: Shift+Z, send_sequence: "{Control+Left}z{Control+Right}" }
      - { when: has_menu, accept: Shift+BackSpace, send_sequence: "{Control+Left}{BackSpace}{Control+Right}" }


Lua_config: 
  # é‡å¤ä¸Šå±
  history: 
    input: ;d
    size: 1                             # é‡å¤å‰å‡ æ¬¡ä¸Šå±
    initial_quality: 1              # åˆå§‹æƒé‡

  # è¾“å…¥å€™é€‰é¢„æµ‹
  predictor:
    db: predict.db
  #æ¯æ¬¡æœ€å¤§é¢„æµ‹å€™é€‰ 
  #é»˜è®¤ä¸º0ï¼Œè¿™æ„å‘³ç€æ˜¾ç¤ºæ‰€æœ‰å€™é€‰äºº 
  #æ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸page_sizeç›¸åŒï¼Œè¿™æ ·å¥ç‚¹å°±ä¸ä¼šè§¦å‘ä¸‹ä¸€é¡µ
    max_candidates: 5   
  #æœ€å¤§è¿ç»­é¢„æµ‹æ¬¡æ•° 
  #é»˜è®¤ä¸º0ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰é™åˆ¶
    max_iterations: 1

  # å¿«é€Ÿç¬¦å·çŸ­è¯­è¯åº“
  quick_symbol_phrase:
    dictionary: ""
    user_dict: custom_phrase/quick_symbol_phrase   # è‡ªå®šä¹‰å¿«ç¬¦
    db_class: stabledb
    enable_completion: false # è¡¥å…¨æç¤º
    enable_sentence: false   # ç¦æ­¢é€ å¥
    initial_quality: 1      # custom_phrase çš„æƒé‡

  # editor ç”¨æ¥å®šåˆ¶æ“ä½œé”®çš„è¡Œä¸ºï¼Œä»¥ä¸‹æ˜¯é»˜è®¤è¡Œä¸º https://github.com/rime/librime/blob/master/src/rime/gear/editor.cc
  editor:
    bindings:
      space: confirm                        # ç©ºæ ¼é”®ï¼šä¸Šå±å€™é€‰é¡¹
      Return: commit_raw_input              # å›è½¦é”®ï¼šä¸Šå±åŸå§‹è¾“å…¥
      Control+Return: commit_script_text    # Ctrl+å›è½¦é”®ï¼šä¸Šå±å˜æ¢åè¾“å…¥ï¼ˆç»è¿‡ preedit_format è½¬æ¢çš„ï¼‰
      Control+Shift+Return: commit_comment  # Ctrl+Shift+å›è½¦é”®ï¼šä¸Šå± comment
      BackSpace: revert                     # é€€æ ¼é”®ï¼šå‘å‰åˆ é™¤ï¼ˆæ’¤æ¶ˆä¸Šæ¬¡è¾“å…¥ï¼‰
      Delete: delete                        # Delete é”®ï¼šå‘ååˆ é™¤
      Control+BackSpace: back_syllable      # Ctrl+é€€æ ¼é”®ï¼šåˆ é™¤ä¸€ä¸ªéŸ³èŠ‚
      Control+Delete: delete_candidate      # Ctrl+Deleteé”®ï¼šåˆ é™¤æˆ–é™æƒå€™é€‰é¡¹
      Escape: cancel                        # Esc é”®ï¼šå–æ¶ˆè¾“å…¥

  # Lua é…ç½®: å››ç å•å­—è¿‡æ»¤ ï¼ˆå½±å“èŒƒå›´ï¼‰
  single_char_only: 
    tags: [ abc ] 

  # Lua é…ç½®: è‡ªå®šä¹‰å­—é›†è¿‡æ»¤ ï¼ˆå½±å“èŒƒå›´ï¼‰
  charset_filter: 
    tags: [ abc, encode, punct, wanxiang_py_lookup, reverse_lookup ] 
  # ã€Œå¸¸ç”¨ã€å­—ç¬¦é›†è®¾ç½®
  # ä¸å½±å“ã€Œå…¨é›†ã€ï¼šå…¨é›†ä»æ˜¾ç¤º*æ‰€æœ‰*å­—ç¬¦
  #
  # both: å…è®¸ç¹ä½“å’Œç®€ä½“åŒæ—¶æ˜¾ç¤º
  # simp: åªæ˜¾ç¤ºç®€åŒ–å­—
  # trad: åªæ˜¾ç¤ºç¹ä½“å­—
  charset: simp  # æˆ– simp, trad

  # Lua é…ç½®ï¼šEmoji é™é¢‘åˆ°ç¬¬ idx ä¸ªä½ç½®
  emoji_reduce:                      
    idx: 6

  # Lua é…ç½®:  ä¸ºè¾“å…¥è¿‡çš„å†…å®¹åŠ ä¸Šæ ‡è®°
  is_in_user_dict: true 

  # Lua é…ç½®: å­—è¯åµŒå…¥ç¼–è¾‘æ 
  # åµŒå…¥å€™é€‰çš„æ˜¾ç¤ºé…ç½®
  # é»˜è®¤æ˜¾ç¤ºæ•ˆæœä¸º:
  # å®‡[æµ©Â¹]iwl ~æ·Â² ~æ³ƒÂ³
  embeded_cands:
    option_name: embeded_cands                               # åµŒå…¥å€™é€‰å¼€å…³
    index_indicators: [ Â¹, Â², Â³, â´, âµ, â¶, â·, â¸, â¹, â° ]       # åµŒå…¥å€™é€‰çš„åºå·æ˜¾ç¤ºæ ¼å¼
#    first_format: "${Stash}[${å€™é¸}${Seq}]${Code}${Comment}"  # é»˜è®¤ é¦–é€‰çš„æ¸²æŸ“æ ¼å¼
    first_format: "${Stash}[${å€™é¸}]${Code}"  # é»˜è®¤ é¦–é€‰çš„æ¸²æŸ“æ ¼å¼
    next_format: "${Stash}${å€™é¸}${Seq}${Comment}"            # éé¦–é€‰çš„æ¸²æŸ“æ ¼å¼
    separator: ""                                           # å€™é€‰ä¹‹é—´çš„åˆ†éš”ç¬¦
    stash_placeholder: "~"  
    show_only_first_in_preedit: true  # æ§åˆ¶æ˜¯å¦ä»…æ˜¾ç¤ºé¦–é€‰è¯åœ¨ç¼–è¾‘æ 


octagram:
  disable:
    __patch:
      grammar: {}
  enable_for_sentence:
    __patch:
      grammar:
        language: zh-hans-t-essay-bgw # rimeå®˜æ–¹æ¨¡å‹
        collocation_max_length: 4  # æœ€å¤§æ­é…é•¿åº¦
        collocation_min_length: 3  #  æœ€å°æ­é…é•¿åº¦
      translator/contextual_suggestions: true # æ˜¯å¦ä½¿ç”¨è¯­è¨€æ¨¡å‹ä¼˜åŒ–è¾“å‡ºç»“æœã€”éœ€é…åˆ grammar ä½¿ç”¨ã€•
      translator/max_homophones: 7 # æœ€å¤§åŒéŸ³ç°‡é•¿åº¦ã€”éœ€é…åˆ grammar ä½¿ç”¨ã€•
      translator/max_homographs: 7 # æœ€å¤§åŒå½¢ç°‡é•¿åº¦ã€”éœ€é…åˆ grammar ä½¿ç”¨ã€•

